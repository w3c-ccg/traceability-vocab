$linkedData:
  term: CommercialInvoiceCredential
  '@id': https://w3id.org/traceability#CommercialInvoiceCredential
title: Commercial Invoice Credential
tags:
  - Steel
  - eCommerce
  - Agriculture
  - Oil and Gas
  - Other
description: >-
  The document recording a transaction between the seller and the buyer. Commercial invoices are normally prepared by sellers.
  The commercial invoice on itself does not grant any ownership of the goods, unless it has an attached document proving the importer's payment for the total amount. The number of copies of the invoice (both original and copies) required for the delivery of the goods, must be agreed with the importer. Usually, invoices are issued with the original and two copies. Although normally the legislation in different countries does not limit the number of originals, it is not advisable to make more than those strictly necessary in order to accomplish with the customs needs required by the buyer. It is advisable that the importer confirms with the exporter all data that the invoice must provide before its issuing, as well as the particularities it must include in order to accomplish with the regulation of the destination country.
  (source: Olegario Llamazares: Dictionary Of International Trade, Key definitions of 2000 trade terms and acronyms).
type: object
properties:
  '@context':
    type: array
    readOnly: true
    const:
      - https://www.w3.org/2018/credentials/v1
      - https://w3id.org/traceability/v1
    default:
      - https://www.w3.org/2018/credentials/v1
      - https://w3id.org/traceability/v1
    items:
      type: string
      enum:
        - https://www.w3.org/2018/credentials/v1
        - https://w3id.org/traceability/v1
  type:
    type: array
    readOnly: true
    const:
      - VerifiableCredential
      - CommercialInvoiceCredential
    default:
      - VerifiableCredential
      - CommercialInvoiceCredential
    items:
      type: string
      enum:
        - VerifiableCredential
        - CommercialInvoiceCredential
  id:
    type: string
  issuanceDate:
    type: string
  expirationDate:
    type: string
  issuer:
    $ref: ../snippets/IssuerOrganization.yml
  credentialSchema:
    type: object
    properties:
      id:
        title: Id
        description: The url of the schema file to validate the shape of the json object
        type: string
        format: uri
        example: https://w3id.org/traceability/openapi/components/schemas/credentials/CommercialInvoiceCredential.yml
        default: https://w3id.org/traceability/openapi/components/schemas/credentials/CommercialInvoiceCredential.yml
        readOnly: true
      type:
        title: Type
        description: The type of validation to be run against the defined schema
        const: OpenApiSpecificationValidator2022
  credentialSubject:
    title: Invoice
    description: A statement of the money due for goods or services; a bill.
    type: object
    properties:
      type:
        type: array
        readOnly: true
        const:
          - Invoice
        default:
          - Invoice
        items:
          type: string
          enum:
            - Invoice
      identifier:
        title: Property Identifier
        description: Identifiers for a property.
        type: string
      invoiceNumber:
        title: Invoice Number
        description: Invoice Number.
        type: string
      customerReferenceNumber: 
        title: Customer's Reference Number
        description: Oversees customer’s reference number.
        type: string
      referencesOrder: 
        title: References Order
        description: The Order(s) related to this Invoice. One or more Orders may be combined into a single Invoice.
        type: array
        items: 
          type: string
      billOfLadingNumber:
        title: Bill of Lading Number
        description: Carrier-issued number for the associated Bill of Lading or Waybill. 
        type: string
      letterOfCreditNumber:
        title: Letter of Credit Number
        description: A letter of credit document referenced in the trade agreement or settlement.
        type: string
      portOfEntry:
        title: Port Of Entry
        description: Port where the purchased goods will enter first.
        type: object
        properties:
          type:
            type: array
            readOnly: true
            const:
              - Place
            default:
              - Place
            items:
              type: string
              enum:
                - Place
          unLocode:
            title: UN Locode
            description: LOCODE
            type: string
          iataAirportCode:
            title: IATA Airport Code
            description: IATA airport code (3 letter)
            type: string
        additionalProperties: false
        required:
          - type
      originCountry:
        title: Origin Country
        description: A country of origin for the consignment, consignment item, or product.
        type: string
      destinationCountry:
        title: Destination Country
        description: Country to which the purchased product will be delivered
        type: string
      invoiceDate:
        title: Invoice Date
        description: A date, time, date time, or other date time value of the invoice in the trade settlement.
        type: string
      purchaseDate:
        title: Purchase Date
        description: The date that payment is made.
        type: string
      seller: 
        title: Seller
        description: An entity which offers (sells, leases, lends, or loans) the services or goods. A seller may also be a provider.
        $ref: ../snippets/SellerParty.yml
      buyer:
        title: Buyer
        description: Importer of record. Party placing the order or paying the invoice.
        $ref: ../snippets/BuyerParty.yml
      consignee:
        title: Consignee
        description: The consignee party for this supply chain consignment.
        $ref: ../snippets/ConsigneeParty.yml
      itemsShipped:
        title: Items Shipped
        description: Itemized list of shipped goods.
        type: array
        items:
          type: object
          properties:
            type:
              type: array
              readOnly: true
              const:
                - TradeLineItem
              default:
                - TradeLineItem
              items:
                type: string
                enum:
                  - TradeLineItem
            name:
              title: Name
              description: Name of the Tradeline item.
              type: string
            description:
              title: Description of product
              type: string
            product:
              title: Product
              description: Product details. 
              type: object
              properties:
                type:
                  type: array
                  readOnly: true
                  const:
                    - Product
                  default:
                    - Product
                  items:
                    type: string
                    enum:
                      - Product
                id:
                  title: Product Identifier
                  description: The product identifier, such as ISBN.
                  type: string
                gtin:
                  title: Global Trade Item Number (GTIN)
                  type: string
                manufacturer:
                  title: Manufacturer
                  description: The entity manufacturing the product.
                  $ref: ../snippets/ManufacturerParty.yml
                  $linkedData:
                    term: manufacturer
                    '@id': https://schema.org/manufacturer
                name:
                  title: Name
                  description: Product name.
                  type: string
                description:
                  title: Description
                  description: Product description.
                  type: string
                category:
                  title: Category
                  description: A category for the item.
                  type: string
                sizeOrAmount:
                  title: Size or Amount
                  description: The size or amount of the product
                  $ref: ../common/QuantitativeValue.yml
                weight:
                  title: Weight
                  description: Weight of the product.
                  $ref: ../common/QuantitativeValue.yml
                productPrice:
                  title: Product Price
                  description: >-
                    One or more detailed price specifications, indicating the unit price and
                    delivery or payment charges.
                  $ref: ../common/PriceSpecification.yml
                sku:
                  title: SKU Number
                  description: >-
                    The Stock Keeping Unit (SKU), i.e., a merchant-specific identifier for a
                    product or service, or for the product to which the offer refers.
                  type: string
                batchNumber:
                  title: Batch Number
                  description: A tracking number for commodities
                  type: string
                commodity:
                  title: Commodity
                  description: Product commodity code, codification system and description
                  $ref: ../common/Commodity.yml
              additionalProperties: false
              required:
                - type
            itemCount:
              title: Item Count
              description: A quantity despatched in the trade delivery.
              type: number
            freeTradeAgreement:
              title: Free Trade Agreement
              description: Relevant Free Trade Agreement
              type: string
            countryOfOrigin:
              title: Country of Origin
              description: Identify the 2-digit ISO country code of the country of production.
            netWeight:
              title: Trade Line Item Net Weight
              description: A measure of the net weight (mass).
              $ref: ../common/QuantitativeValue.yml
            grossWeight:
              title: Trade Line Item Gross Weight
              description: >-
                A measure of the gross weight (mass) which includes packaging but excludes
                any transport equipment.
              $ref: ../common/QuantitativeValue.yml
            lineItemTotalPrice:
              title: Total Price
              description: Total line item price.
              $ref: ../common/PriceSpecification.yml
          additionalProperties: false  
          required:
            - type
        $linkedData:
          term: itemsShipped
          '@id': https://schema.org/itemShipped
      comments:
        title: Comments
        description: Free text comments. 
        type: array
        items:
          type: string
      packageQuantity:
        title: Package Quantity
        description: Total number of packages.
        type: number
      totalWeight:
        title: Total Weight
        description: Total weight of the products.
        $ref: ../common/QuantitativeValue.yml
      termsOfDelivery: 
        title: Terms of Delivery
        description: The conditions agreed upon between the parties with regard to the delivery of goods and or services.
        type: string
      termsOfPayment: 
        title: Terms of Payment
        description: Terms, conditions, and currency of settlement, as agreed upon by the vendor and purchaser per the pro forma invoice, customer purchase order, and/or the letter of credit.
        type: string
      currencyOfSettlement: 
        title: Terms of Settlement
        description: Currency agreed upon between seller and buyer as payment.
        type: string
      invoiceSubtotal:
        title: Invoice Subtotal
        description: The subtotal of line items.
        $ref: ../common/PriceSpecification.yml
      discounts: 
        title: Discounts
        description: Applicable discounts.
        type: array
        items: 
          $ref: ../common/PriceSpecification.yml
      deductions: 
        title: Additions
        description: Applicable additions.
        type: array
        items: 
          $ref: ../common/PriceSpecification.yml
      tax: 
        title: Tax
        description: Applicable tax.
        $ref: ../common/PriceSpecification.yml
      freightCost: 
        title: Freight Cost
        description: Included cost of freight.
        $ref: ../common/PriceSpecification.yml
      insuranceCost: 
        title: Freight Cost
        description: Included cost of insurance.
        $ref: ../common/PriceSpecification.yml
      totalPaymentDue:
        title: Total Payment Due
        description: The total amount due.
        $ref: ../common/PriceSpecification.yml
    additionalProperties: false
    required:
      - type
      - seller
      - buyer
      - itemsShipped
      - totalPaymentDue
  proof:
    $ref: ../snippets/proof.yml
additionalProperties: false
required:
  - '@context'
  - type
  - issuanceDate
  - issuer
  - credentialSubject
example: |-
  {
    "@context": [
      "https://www.w3.org/2018/credentials/v1",
      "https://w3id.org/traceability/v1"
    ],
    "id": "urn:uuid:5e45f155-c949-4005-a7e5-26ni58b6a59a",
    "type": [
      "VerifiableCredential",
      "CommercialInvoiceCredential"
    ],
    "name": "Commercial Invoice Certificate",
    "description": "Document recording a transaction between a seller and a buyer",
    "issuanceDate": "2022-02-23T11:55:00Z",
    "issuer": {
      "type": [
        "Organization"
      ],
      "id": "did:key:z6MktHQo3fRRohk44dsbE76CuiTpBmyMWq2VVjvV6aBSeE3U",
      "name": "Maxi Acero Mexicano"
    },
    "credentialSubject": {
      "type": [
        "Invoice"
      ],
      "portOfEntry": {
        "type": [
          "Place"
        ],
        "unLocode": "USLGB"
      },
      "destinationCountry": "MX",
      "purchaseDate": "2021-02-21",
      "seller": {
        "type": [
          "Organization"
        ],
        "name": "Maxi Acero Mexicano",
        "location": {
          "type": [
            "Place"
          ],
          "address": {
            "type": [
              "PostalAddress"
            ],
            "streetAddress": "Avenida Carlos 100",
            "addressLocality": "Hernádez de Mara",
            "addressRegion": "Nuevo Leon",
            "postalCode": "32200",
            "addressCountry": "Mexico"
          }
        },
        "email": "info@example.net",
        "phoneNumber": "555-127-7813"
      },
      "buyer": {
        "type": [
          "Organization"
        ],
        "id": "did:web:generic-motors.example.com",
        "location": {
          "type": [
            "Place"
          ],
          "address": {
            "type": [
              "PostalAddress"
            ],
            "name": "Generic Motors of America",
            "streetAddress": "12 Generic Motors Dr",
            "addressLocality": "Detroit",
            "addressRegion": "Michigan",
            "postalCode": "48232-5170",
            "addressCountry": "USA"
          }
        }
      },
      "consignee": {
        "type": [
          "Organization"
        ],
        "id": "did:web:generic-motors.example.com"
      },
      "itemsShipped": [
        {
          "type": [
            "TradeLineItem"
          ],
          "product": {
            "type": [
              "Product"
            ],
            "manufacturer": {
              "type": [
                "Organization"
              ],
              "name": "Maxi Acero Mexicano",
              "location": {
                "type": [
                  "Place"
                ],
                "address": {
                  "type": [
                    "PostalAddress"
                  ],
                  "streetAddress": "Avenida Carlos 100",
                  "addressLocality": "Hernádez de Mara",
                  "addressRegion": "Nuevo Leon",
                  "postalCode": "32200",
                  "addressCountry": "Mexico"
                }
              }
            },
            "description": "UNS S30400 chromium-nickel stainless steel rolls.",
            "weight": {
              "type": [
                "QuantitativeValue"
              ],
              "unitCode": "lbs",
              "value": "16500"
            }
          },
          "itemCount": 5,
          "grossWeight": {
            "type": [
              "QuantitativeValue"
            ],
            "value": "82500",
            "unitCode": "lbs"
          },
          "lineItemTotalPrice": {
            "type": [
              "PriceSpecification"
            ],
            "price": 5200,
            "priceCurrency": "USD"
          }
        },
        {
          "type": [
            "TradeLineItem"
          ],
          "product": {
            "type": [
              "Product"
            ],
            "manufacturer": {
              "type": [
                "Organization"
              ],
              "name": "Maxi Acero Mexicano",
              "location": {
                "type": [
                  "Place"
                ],
                "address": {
                  "type": [
                    "PostalAddress"
                  ],
                  "streetAddress": "Avenida Carlos 100",
                  "addressLocality": "Hernádez de Mara",
                  "addressRegion": "Nuevo Leon",
                  "postalCode": "32200",
                  "addressCountry": "Mexico"
                }
              }
            },
            "description": "Galvalannealed ASTM A-653 zinc-iron alloy-coated steel sheets.",
            "weight": {
              "type": [
                "QuantitativeValue"
              ],
              "value": "12680",
              "unitCode": "lbs"
            }
          },
          "itemCount": 20,
          "grossWeight": {
            "type": [
              "QuantitativeValue"
            ],
            "value": "253600",
            "unitCode": "lbs"
          },
          "lineItemTotalPrice": {
            "type": [
              "PriceSpecification"
            ],
            "price": 4400,
            "priceCurrency": "USD"
          }
        }
      ],
      "totalWeight": {
        "type": [
          "QuantitativeValue"
        ],
        "value": "336100",
        "unitCode": "lbs"
      },
      "totalPaymentDue": {
        "type": [
          "PriceSpecification"
        ],
        "price": 9600,
        "priceCurrency": "USD"
      }
    },
    "proof": {
      "type": "Ed25519Signature2018",
      "created": "2023-04-12T00:18:53Z",
      "verificationMethod": "did:key:z6MktHQo3fRRohk44dsbE76CuiTpBmyMWq2VVjvV6aBSeE3U#z6MktHQo3fRRohk44dsbE76CuiTpBmyMWq2VVjvV6aBSeE3U",
      "proofPurpose": "assertionMethod",
      "jws": "eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..QUU09R3V38BxNnZsPK0bftNj4NVWlWxJ7O4oQXkY_WBqrKlEeE71Sc3BObuxiV6YfeoA2glhUo17NZfbeRufDA"
    }
  }
